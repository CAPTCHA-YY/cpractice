#include<stdio.h>
int min(int a,int b){//比较函数
return a>b?b:a;
}
int main(){
	int n,m;
	int h=0;
	scanf("%d%d",&m,&n);
    int arr[n][n];//小 矩阵
	int brr[m][m]; //大 矩阵
	int crr[m][m]; 最终卷积后的结果
	for(int i=0;i<m;i++){
		for(int j=0;j<m;j++){
		scanf("%d",&brr[i][j]);
	}
	}
	for(int i=0;i<n;i++){
		for(int j=0;j<n;j++){
		scanf("%d",&arr[i][j]);
	}
	}
//录入两个矩阵

//后面两个循环完成矩阵180度旋转
	for(int i=0;i<n;i++){
		for(int j=0;j<n/2;j++){
			int k=0;
			k=arr[i][j];
			arr[i][j]=arr[n-1-i][n-1-j];
			arr[n-1-i][n-1-j]=k;
		}
	}
	for(int i=0;i<n/2;i++) {
		int k=0;
			k=arr[i][n/2];
			arr[i][n/2]=arr[n-1-i][n/2];
			arr[n-1-i][n/2]=k;
	}
		
	//这里本来用来检验旋转是否成功
//	for(int i=0;i<n;i++){
//		for(int j=0;j<n;j++){
//		printf("%d ",arr[i][j]);
//	}
//	printf("\n");
//	}printf("\n"); 

int k=n/2; 
	for(int i=0;i<m;i++){
		for(int j=0;j<m;j++){
//原谅我用这么草率的变量名，这里表示的是上下左右重叠部分长度
		int	a1=min(i,k);//上 
		int	a2=min(j,k);//左 
		int	a3=min(m-1-i,k);//下 
		int	a4=min(m-1-j,k);//右 

		int b1=a1+a3+1;//最后将重叠矩形整合计算卷积
		int b2=a2+a4+1;
		int k1=0;
		for(int c1=0;c1<b1;c1++){
			for(int c2=0;c2<b2;c2++){
				k1+=arr[k-a1+c1][k-a2+c2]*brr[i-a1+c1][j-a2+c2];
			}
		}	
			
			crr[i][j]=k1;//将结果存储到结果矩阵
			
			
		}
	}

	for(int i=0;i<m;i++){//最后输出
		for(int j=0;j<m;j++){
		
		printf("%d ",crr[i][j]); 
		}
		printf("\n");
		}
	
	return 0;
}
